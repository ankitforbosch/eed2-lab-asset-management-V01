{% extends "base.html" %}
{% block content %}
  <h2>Borrow Equipment</h2>
  <div id="cartItems">
    {% if cart %}
      {% for item in cart %}
        <div class="cart-item">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <strong>{{ item.name }}</strong><br>
              <small>Serial: {{ item.serialNumber }} | Qty: {{ item.requestedQty }}</small>
            </div>
          </div>
        </div>
      {% endfor %}
    {% else %}
      <div class="alert alert-info">Cart is empty</div>
    {% endif %}
  </div>
  <form method="POST">
    <div class="mb-3">
      <label class="form-label">Purpose (Optional)</label>
      <input type="text" class="form-control" name="purpose">
    </div>
    <div class="mb-3">
      <label class="form-label">Expected Return Date</label>
      <input type="date" class="form-control" name="return_date" required min="{{ today }}">
    </div>
    <button type="submit" class="btn btn-success w-100" {% if not cart %}disabled{% endif %}>
      <i class="bi bi-check-circle me-1"></i>Checkout
    </button>
  </form>
{% endblock %}
